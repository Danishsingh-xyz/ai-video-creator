<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Video Creator</title>
</head>
<body>
    <h1>AI Video Creator</h1>
    
    <!-- Text Input -->
    <textarea id="text-input" placeholder="Enter your script here" rows="4" cols="50"></textarea>
    
    <!-- Voice Selection -->
    <select id="voice-select">
        <option value="voice1_id">Voice 1</option>
        <option value="voice2_id">Voice 2</option>
        <!-- Add more voices as needed -->
    </select>
    
    <!-- Generate Button -->
    <button onclick="generateAudio()">Generate Audio</button>
    
    <!-- Audio Output -->
    <audio id="audio-player" controls></audio>

    <script>
        // Your Eleven Labs API Key
        const elevenLabsAPIKey = 'sk_ed7cbd21f0328c94cac3989aeb08ac25172705ccd9c5052';  // Replace with your Eleven Labs API key

        // Function to generate audio with timestamps
        function generateAudio() {
            const text = document.getElementById("text-input").value;
            const voiceChoice = document.getElementById("voice-select").value;  // Get the selected voice ID

            // API endpoint with voice_id and timestamps support
            const url = `https://api.elevenlabs.io/v1/text-to-speech/${voiceChoice}/with-timestamps`;

            // API call to Eleven Labs TTS
            fetch(url, {
                method: "POST",
                headers: {
                    "Authorization": `Bearer ${elevenLabsAPIKey}`,
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    text: text,
                    voice: voiceChoice,
                    quality: "high"
                })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error("Failed to generate audio. Please try again.");
                }
                return response.blob();
            })
            .then(blob => {
                const audioUrl = URL.createObjectURL(blob);
                document.getElementById("audio-player").src = audioUrl;  // Set the audio player source
            })
            .catch(error => {
                console.error("Error generating audio:", error);
                alert("There was an error generating the audio. Please try again.");
            });
        }
    </script>
</body>
</html>
