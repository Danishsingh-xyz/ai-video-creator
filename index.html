<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Video Creator</title>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=YOUR_RESPONSIVE_VOICE_KEY"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        textarea, select, button { padding: 10px; margin: 10px; width: 100%; }
        button { cursor: pointer; background-color: #4CAF50; color: white; }
        #video-container { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>AI Video Creator</h1>
    <textarea id="script-input" rows="4" placeholder="Enter script..."></textarea>
    <button onclick="generateContent()">Generate Video</button>
    <h3>Generated Video:</h3>
    <div id="video-container"></div>
    
    <script>
        const GOOGLE_API_KEY = "AIzaSyDH541TOcn0pBHltwOiZq2u0e-FK2YDuog";
        const GOOGLE_CX_ID = "9128389fe7f334212";
        const DALLE_API_URL = "https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-2";
        const HUGGING_FACE_API_KEY = "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";

        async function fetchRealWorldImages(query) {
            const url = `https://www.googleapis.com/customsearch/v1?q=${query}&cx=${GOOGLE_CX_ID}&searchType=image&key=${GOOGLE_API_KEY}`;
            try {
                const response = await fetch(url);
                const data = await response.json();
                return data.items ? data.items.map(item => item.link) : [];
            } catch (error) {
                console.error("Error fetching real-world images:", error);
                return [];
            }
        }

        async function fetchAIImage(prompt) {
            try {
                const response = await fetch(DALLE_API_URL, {
                    method: "POST",
                    headers: { "Authorization": `Bearer ${HUGGING_FACE_API_KEY}` },
                    body: JSON.stringify({ inputs: prompt })
                });
                const result = await response.json();
                return result.generated_image ? result.generated_image : null;
            } catch (error) {
                console.error("Error generating AI image:", error);
                return null;
            }
        }

        function generateAudio(script) {
            responsiveVoice.speak(script, "UK English Male");
        }

        async function generateContent() {
            const script = document.getElementById("script-input").value;
            if (!script) {
                alert("Please enter a script.");
                return;
            }
            generateAudio(script);
            
            const keywords = script.split(" ").slice(0, 5).join(" ");
            const realImages = await fetchRealWorldImages(keywords);
            const aiImage = await fetchAIImage(script);
            
            let mediaUrls = [...realImages];
            if (aiImage) mediaUrls.push(aiImage);
            
            displayMedia(mediaUrls);
        }

        function displayMedia(mediaUrls) {
            const container = document.getElementById("video-container");
            container.innerHTML = "";
            mediaUrls.slice(0, 5).forEach(url => {
                let img = document.createElement("img");
                img.src = url;
                img.style.width = "100%";
                img.style.marginTop = "10px";
                container.appendChild(img);
            });
        }
    </script>
</body>
</html>


